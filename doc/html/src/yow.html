<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html>
<head>
<link rel="Stylesheet" type="text/css" href="../cludg.css"/>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1"/>
<title>
yow</title>
</head>
<body>
<div id="navbar">
<table cellspacing="0" cellpadding="0" border="0" style="width: 100%;">
<colgroup span="3">
<col width="0*"/>
<col width="0*"/>
<col width="1*"/>
</colgroup>
<tr>
<td align="left" valign="baseline">
<a href="slurp.html">
Prev:&nbsp;slurp</a>
<br/>
<a href="user-api.html">
Next:&nbsp;user-api</a>
</td>
<td>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
<td align="left" valign="baseline">
<span class="upchain">
<b>
yow</b>
<br/>
<a href="../index.html">
Index</a>
</span>
&nbsp;&nbsp;&nbsp;&nbsp;</td>
</tr>
</table>
</div>
<div class="cludg-doc-body">
<h2>
yow
</h2>
<table style="width: 100%;" class="summary-table">
<tr class="table-heading-color">
<th class="summary" colspan="2">
Class summary</th>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="yow.html#_g13845">
textfile-db</a>
</td>
<td class="summary">
inherits from <a href="yow.html#_g13842"><em class="cl">yow-db</em></a></td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="yow.html#_g13842">
yow-db</a>
</td>
<td class="summary">
</td>
</tr>
</table>
<table style="width: 100%;" class="summary-table">
<tr class="table-heading-color">
<th class="summary" colspan="2">
Method summary</th>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="yow.html#_g13843">
get-data</a>
</td>
<td class="summary">
yow-db</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="yow.html#_g13846">
get-eor-char</a>
</td>
<td class="summary">
textfile-db</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="yow.html#_g13844">
get-name</a>
</td>
<td class="summary">
yow-db</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="yow.html#_g13847">
get-path</a>
</td>
<td class="summary">
textfile-db</td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="yow.html#_g13851">
initialize-instance</a>
</td>
<td class="summary">
(db textfile-db) <em>&amp;rest</em> initargs <em>&amp;key</em> <em>&amp;allow-other-keys</em></td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="yow.html#_g13849">
populate</a>
</td>
<td class="summary">
db name <em>&amp;key</em> <em>&amp;allow-other-keys</em></td>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="yow.html#_g13848">
print-object</a>
</td>
<td class="summary">
(o textfile-db) s</td>
</tr>
</table>
<table style="width: 100%;" class="summary-table">
<tr class="table-heading-color">
<th class="summary" colspan="2">
Function summary</th>
</tr>
<tr class="table-row-color">
<td class="summary-name">
<a href="yow.html#_g13852">
load-textfile-db</a>
</td>
<td class="summary">
path eor-char <em>&amp;optional</em> (name nil)</td>
</tr>
</table>
<div class="defclass">
<div class="defunsignatures">
<a id="_g13842">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
yow-db&nbsp;&nbsp;</td>
<td class="lambda-list">
</td>
<td class="symbol-type">
&nbsp;[Class]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Base protocol class for yow data sources. This abstract class is not 
 meant to be instantiated directly. 
 </p>
</div>
<div class="defclass-initargs">
<div>
<div>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
:name&nbsp;&nbsp;</td>
<td class="lambda-list">
</td>
<td class="symbol-type">
&nbsp;[Initarg]</td>
</tr>
</tbody>
</table>
</div>
</div>
<div>
<div>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
:data&nbsp;&nbsp;</td>
<td class="lambda-list">
</td>
<td class="symbol-type">
&nbsp;[Initarg]</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="defclass-slots-doc">
<div>
<div>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
name&nbsp;&nbsp;</td>
<td class="lambda-list">
</td>
<td class="symbol-type">
&nbsp;[Slot]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
token by which instances of loaded data sources are named 
 Although it can be defined as any type value that is operable with 
 #'equal it is strongly recommended to use symbols interned in 'KEYWORD 
 package, such as <span class="keyword">
:last-names </span>
or <span class="keyword">
:spook </span>

 </p>
</div>
</div>
<div>
<div>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
data&nbsp;&nbsp;</td>
<td class="lambda-list">
</td>
<td class="symbol-type">
&nbsp;[Slot]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
simple implementation of list based data structure to 
 hold an arbitrary number of strings, each of which is a 'cookie' usually 
 accessed by random selection for presentation to (and amusement of) the 
 user 
 </p>
</div>
</div>
</div>
<div class="defclass-generics">
<div class="defun">
<div class="defunsignatures">
<a id="_g13843">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
get-data&nbsp;&nbsp;</td>
<td class="lambda-list">
yow-db</td>
<td class="symbol-type">
&nbsp;[Generic&nbsp;function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Returns and (with setf) changes the data of the specified yow-db 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g13844">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
get-name&nbsp;&nbsp;</td>
<td class="lambda-list">
yow-db</td>
<td class="symbol-type">
&nbsp;[Generic&nbsp;function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Returns the name of the specified yow-db 
 </p>
</div>
</div>
</div>
</div>
<div class="defclass">
<div class="defunsignatures">
<a id="_g13845">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
textfile-db&nbsp;&nbsp;</td>
<td class="lambda-list">
inherits from <a href="yow.html#_g13842"><em class="cl">yow-db</em></a></td>
<td class="symbol-type">
&nbsp;[Class]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
simple textfile based data source. This format is newline 
 delimited, one line per cookie, using hash (#) comments when found as the 
 first character on a logical line. 
 </p>
</div>
<div class="defclass-initargs">
<div>
<div>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
:path&nbsp;&nbsp;</td>
<td class="lambda-list">
</td>
<td class="symbol-type">
&nbsp;[Initarg]</td>
</tr>
</tbody>
</table>
</div>
</div>
<div>
<div>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
:eor-char&nbsp;&nbsp;</td>
<td class="lambda-list">
</td>
<td class="symbol-type">
&nbsp;[Initarg]</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="defclass-slots-doc">
<div>
<div>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
path&nbsp;&nbsp;</td>
<td class="lambda-list">
</td>
<td class="symbol-type">
&nbsp;[Slot]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
file system pathname from which to create a single 
 'cookie-jar' instance and to load the associated set of 'cookies'. 
 </p>
</div>
</div>
<div>
<div>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
eor-char&nbsp;&nbsp;</td>
<td class="lambda-list">
</td>
<td class="symbol-type">
&nbsp;[Slot]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
character denoting END-OF-RECORD. Each distinct element 
 of the input data should be separated by this character. Some commonly 
 encountered cases include #newline and #% 
 </p>
</div>
</div>
</div>
<div class="defclass-generics">
<div class="defun">
<div class="defunsignatures">
<a id="_g13846">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
get-eor-char&nbsp;&nbsp;</td>
<td class="lambda-list">
textfile-db</td>
<td class="symbol-type">
&nbsp;[Generic&nbsp;function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Returns the eor-char of the specified textfile-db 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g13847">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
get-path&nbsp;&nbsp;</td>
<td class="lambda-list">
textfile-db</td>
<td class="symbol-type">
&nbsp;[Generic&nbsp;function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Returns the path of the specified textfile-db 
 </p>
</div>
</div>
</div>
</div>
<div class="defparam">
<div class="defunsignatures">
<a id="_g13840">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
*default-db-files*&nbsp;&nbsp;</td>
<td class="lambda-list">
</td>
<td class="symbol-type">
&nbsp;[Variable]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Association-list of textfile-db format data sources automatically populated 
 by default. Each member pair is expected to conform to (STRING . CHAR) where 
 STRING represents the pathabane (sans TYPE) of an existing, legal database 
 file found in the yow installation's 'data' directory, and where CHAR denotes 
 the record-separator used for that file. N.B. This distribution contains an 
 assortment of well-known, public, open-source, database files, some of which 
 may contain material offensive to some and/or not=suitable for children. 
 Therefore, on initial load of this library, NO databases are loaded. If 
 desired, please customize this ALIST to remove any unwanted datafiles. By 
 convention, all questionable content is linited to files named using a 
 filename-o.txt convention --- e.g., fortunes-o.txt. * See Also: {defun 
 load-default-dbs} 
 </p>
</div>
</div>
<div class="defparam">
<div class="defunsignatures">
<a id="_g13841">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
*all-yow-dbs*&nbsp;&nbsp;</td>
<td class="lambda-list">
</td>
<td class="symbol-type">
&nbsp;[Variable]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
dynamic special variable that maps keyword names to references of loaded 
 yow-db instances 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g13849">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
populate&nbsp;&nbsp;</td>
<td class="lambda-list">
db name <em>&amp;key</em> <em>&amp;allow-other-keys</em></td>
<td class="symbol-type">
&nbsp;[Generic&nbsp;function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
low-level routines used internally to parse specific cookie-jar db formats 
 and populate the corresponding in-memory data structures with the resulting 
 data 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g13848">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
print-object&nbsp;&nbsp;</td>
<td class="lambda-list">
(o textfile-db) s</td>
<td class="symbol-type">
&nbsp;[Method]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
enhance printed representation of textfile-db objects with helpful info 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g13851">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
initialize-instance&nbsp;&nbsp;</td>
<td class="lambda-list">
(db textfile-db) <em>&amp;rest</em> initargs <em>&amp;key</em> <em>&amp;allow-other-keys</em></td>
<td class="symbol-type">
&nbsp;[After&nbsp;method]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
correctly invoke POPULATE (upon instantiation of a TEXTFILE-DB) when PATH 
 has been specified by an initarg to MAKE-INSTANCE 
 </p>
</div>
</div>
<div class="defun">
<div class="defunsignatures">
<a id="_g13852">
</a>
<table cellpadding="0" cellspacing="0" width="100%">
<colgroup span="3">
<col width="0*"/>
<col width="1*"/>
<col width="0*"/>
</colgroup>
<tbody>
<tr>
<td class="symbol-name">
load-textfile-db&nbsp;&nbsp;</td>
<td class="lambda-list">
path eor-char <em>&amp;optional</em> (name nil)</td>
<td class="symbol-type">
&nbsp;[Function]</td>
</tr>
</tbody>
</table>
</div>
<div class="doc-body">
<p>
Parse an ASCII[-ish] text-file specified by PATH having some number of 
 records delinieated by occourances of the character EOR-CHAR. Load it's 
 contents into memory and make available as a cookie-jar for use using the YOW 
 end-user api as a cookie jar denoted by NAME (if specified) or by a name 
 derived from PATH (if not specified). In particular, this should be 
 compatible with most 'fortune' style cookie files like those found on UNIX 
 systems or '.lines' style files distributed with EMACS. 
 </p>
</div>
</div>
</div>
<div class="cludg-footer">
Generated by&nbsp;<a href="mailto:ihatchondo@common-lisp.net" lang="en">
CLDOC</a>
- 2009-05-19 18:18:57</div>
</body>
</html>
